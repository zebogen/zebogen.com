(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Boj0:function(t,e,n){"use strict";n.r(e);var o=n("q1tI"),i=n.n(o),r=n("Bl7J"),a=n("vOnD");n("gu/5"),n("eoYm"),n("YbXK"),n("cFtU");function l(t,e){void 0===e&&(e={}),this.canvas=document.getElementById(t),this.rowCount=e.rowCount||100,this.columnCount=e.columnCount||150,this.state=this.getInitialState(!0),this.width=6*this.columnCount,this.height=6*this.rowCount}l.prototype.init=function(){this.paintBackground(),this.render()},l.prototype.paintBackground=function(){var t=this.canvas.getContext("2d");t.fillStyle="#bcd9e0",t.fillRect(0,0,this.canvas.width,this.canvas.height)},l.prototype.getInitialState=function(t){var e=this;return void 0===t&&(t=!0),{grid:Array.from({length:this.rowCount}).map((function(n,o){return Array.from({length:e.columnCount}).map((function(n,i){return{i:o,j:i,alive:Math.random()<(t?e.currentRandomizationValue():0)}}))})),running:!1,mouseDown:!1,generations:0}},l.prototype.currentRandomizationValue=function(){return document.getElementById("randomizer-number").value/100},l.prototype.handleMousedown=function(t){this.state.mouseDown=!0,this.handleMousemove(t)},l.prototype.handleMouseup=function(){this.state.mouseDown=!1},l.prototype.handleMousemove=function(t){var e=this;this.state.mouseDown&&this.cellsFromMouseEvent(t).forEach((function(t){t.alive=!0,e.paintCell(t.i,t.j,t.alive)}))},l.prototype.cellsFromMouseEvent=function(t){var e=Math.floor(t.nativeEvent.offsetX/6),n=Math.floor(t.nativeEvent.offsetY/6);return[this.getCell(n,e),this.getCell(n+1,e),this.getCell(n+1,e+1),this.getCell(n,e+1)]},l.prototype.startRun=function(){this.state.running=!0,this.state.startTime=Date.now()},l.prototype.stopRun=function(){this.state.running=!1},l.prototype.reset=function(){var t=document.getElementById("randomize").checked;this.state=this.getInitialState(t)},l.prototype.render=function(){var t=this;return this.state.running&&(this.tick(),this.state.generations+=1),this.paintGrid(),requestAnimationFrame((function(){return t.render()}))},l.prototype.paintGrid=function(){var t=this;this.state.grid.forEach((function(e){return e.forEach((function(e){return t.paintCell(e.i,e.j,e.alive)}))}))},l.prototype.paintCell=function(t,e,n){var o=this.canvas.getContext("2d");o.fillStyle=n?"black":"white",o.fillRect(6*e,6*t,5,5)},l.prototype.tick=function(){var t=this;this.state.grid.forEach((function(e,n){e.forEach((function(e,o){var i=t.liveNeighborCount(n,o);e.newAlive=e.alive?[2,3].includes(i):3===i}))})),this.state.grid.forEach((function(t){t.forEach((function(t){t.newAlive!==t.alive&&(t.alive=t.newAlive),t.newAlive=void 0}))}))},l.prototype.getCell=function(t,e){var n=this.loopedIndex(t,this.state.grid.length),o=this.loopedIndex(e,this.state.grid[n].length);return this.state.grid[n][o]},l.prototype.loopedIndex=function(t,e){return t<0?t+e:t>=e?t-e:t},l.prototype.liveNeighborCount=function(t,e){return[this.getCell(t-1,e-1),this.getCell(t-1,e),this.getCell(t-1,e+1),this.getCell(t,e-1),this.getCell(t,e+1),this.getCell(t+1,e-1),this.getCell(t+1,e),this.getCell(t+1,e+1)].filter((function(t){return t&&t.alive})).length};var u=l,s=a.b.div.withConfig({displayName:"game__Container",componentId:"sc-1fbplt2-0"})(["text-align:center;canvas{border:1px solid lightgray;}"]),c=a.b.button.withConfig({displayName:"game__ActionButton",componentId:"sc-1fbplt2-1"})(["margin-top:10px;"]),h=function(){var t=Object(o.useRef)(null),e=Object(o.useRef)({}),n=Object(o.useState)(!0),r=n[0],a=n[1],l=Object(o.useState)({}),h=l[0],d=l[1];Object(o.useEffect)((function(){e.current=new u("root",{columnCount:100,rowCount:100}),d({width:e.current.width,height:e.current.height}),e.current.init()}),[]);return i.a.createElement(s,null,i.a.createElement("h1",null,"Conway's Game of Life"),i.a.createElement("p",null,"A JS implementation of ",i.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Conway's_Game_of_Life",target:"_blank",rel:"noopener noreferrer"},"Conway's Game of Life"),"."),i.a.createElement("p",null,"Click and drag to paint live cells. Press the Start button to start the game.",i.a.createElement("br",null),"The Reset button randomizes when the corresponding option is checked or clears all cells."),i.a.createElement("p",null,"Code: ",i.a.createElement("a",{href:"https://github.com/zebogen/zebogen.com/blob/master/src/components/conway/game.js",target:"_blank",rel:"noopener noreferrer"},"GitHub")),i.a.createElement("div",null,i.a.createElement("canvas",{ref:t,width:h.width,height:h.height,id:"root",onMouseDown:function(t){e.current&&e.current.handleMousedown(t)},onMouseMove:function(t){e.current&&e.current.handleMousemove(t)},onMouseUp:function(t){e.current&&e.current.handleMouseup(t)}}),i.a.createElement("div",null,i.a.createElement(c,{id:"start",onClick:function(){e.current.startRun()}},"Start"),i.a.createElement(c,{id:"stop",onClick:function(){e.current.stopRun()}},"Stop"),i.a.createElement(c,{id:"reset",onClick:function(){e.current.reset()}},"Reset"),i.a.createElement("div",null,i.a.createElement("input",{type:"checkbox",id:"randomize",checked:r,onChange:function(t){a(t.target.checked)}})," Randomize",i.a.createElement("div",{id:"randomizer-fields"},"Start with ",i.a.createElement("input",{type:"number",min:"0",max:"100",id:"randomizer-number",defaultValue:"10",size:"2"}),"% of cells alive")))))};e.default=function(){return i.a.createElement(r.a,null,i.a.createElement(h,null))}}}]);
//# sourceMappingURL=component---src-pages-code-conway-js-739e68e31884c8653ad1.js.map